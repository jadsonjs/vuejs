<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Spring Boot Thymeleaf With VueJS Hello World Example</title>

    <link rel="stylesheet" th:href="@{webjars/bootstrap/4.4.1/css/bootstrap.min.css}"/>

</head>

<body>

<!--
 == Inclue Vuesj Directly
 -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.map"></script>


<!--
 == Vue custom components
 -->
<script type="text/javascript" src="/js/button-counter.js"></script>

<nav class="navbar navbar-expand-md navbar-dark bg-primary fixed-top">
    <a class="navbar-brand" href="#">My System with Thymeleaf and Vue JS</a>
</nav>

<main role="main" class="container">


        <div class="row">
            <div class="col-2">

            </div>
            <div class="col-8">
                <h1>Spring Boot Web Thymeleaf</h1>
                <h2>
                    <span th:text="${message}"></span>
                </h2>
            </div>
            <div class="col-2">

            </div>
        </div>

        <div id="app" class="row">

            <button class="btn btn-primary" v-on:click="clickButton()"> Click Me</button>

            <table class="table table-striped">
                <thead class="thead-dark">
                    <tr>
                      <th scope="col">Month</th>
                    </tr>
                </thead>
                <tr v-for="month in months" >
                    <td>{{ month }}</td>
                </tr>
            </table>


            <button-counter class="btn btn-primary"></button-counter>

        </div>

</main>
<!-- /.container -->

<script type="text/javascript" th:src="@{webjars/jquery/3.0.0/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{webjars/bootstrap/4.4.1/js/bootstrap.min.js}"></script>

<script type="text/javascript" >

    var vm = new Vue({
      el: '#app',

      data() {
        return {
             months: [],
        };
      },

      methods:{
        clickButton() {
            alert('this is my vue method...');
        },

        // load data from backend using axios //
        loadData(){
            axios.get('http://localhost:8080/rest/get')
                .then(
                    result => {
                        this.months = result.data
                    }
                ).catch(
                    error => {
                        console.log(error)
                    }
                )
        }
      },

      beforeMount () {
          this.loadData()
      }

    });

</script>


</body>
</html>
